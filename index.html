<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Preparation Portal</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }
        
        .header {
            background: #1a73e8;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-login-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid white;
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .admin-login-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .main-content {
            padding: 30px;
        }
        
        .welcome-text {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .welcome-text h2 {
            color: #1a73e8;
            margin-bottom: 10px;
        }
        
        .welcome-text p {
            color: #5f6368;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .main-button {
            background: white;
            border-radius: 12px;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }
        
        .main-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border-color: #1a73e8;
        }
        
        .main-button img {
            width: 70px;
            height: 70px;
            margin-bottom: 15px;
            object-fit: contain;
        }
        
        .main-button h3 {
            color: #1a73e8;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .main-button p {
            color: #5f6368;
            font-size: 14px;
        }
        
        .subpage {
            display: none;
            padding: 30px;
        }
        
        .back-button {
            background: #5f6368;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-button:hover {
            background: #3c4043;
        }
        
        .subpage h2 {
            color: #1a73e8;
            margin-bottom: 20px;
            text-align: center;
            font-size: 28px;
        }
        
        .sub-button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .sub-button {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #dadce0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }
        
        .sub-button:hover {
            background: #e8f0fe;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .sub-button h4 {
            color: #1a73e8;
            margin-bottom: 8px;
        }
        
        .sub-button p {
            color: #5f6368;
            font-size: 14px;
        }
        
        .admin-panel {
            display: none;
            padding: 30px;
            border-top: 1px solid #eee;
            background: #f8f9fa;
        }
        
        .admin-panel h2 {
            color: #1a73e8;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .admin-controls {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #3c4043;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #dadce0;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus {
            border-color: #1a73e8;
            outline: none;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .admin-btn {
            background: #1a73e8;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        .admin-btn:hover {
            background: #0d5bba;
        }
        
        .secondary-btn {
            background: #5f6368;
        }
        
        .secondary-btn:hover {
            background: #3c4043;
        }
        
        .button-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .message {
            padding: 12px 15px;
            border-radius: 6px;
            margin-top: 15px;
            display: none;
        }
        
        .success {
            background: #e6f4ea;
            color: #1e8e3e;
            border: 1px solid #1e8e3e;
        }
        
        .error {
            background: #fce8e6;
            color: #d93025;
            border: 1px solid #d93025;
        }
        
        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .login-form {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 450px;
        }
        
        .login-form h3 {
            color: #1a73e8;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .footer {
            text-align: center;
            padding: 25px;
            color: #5f6368;
            font-size: 14px;
            border-top: 1px solid #eee;
            background: #f8f9fa;
        }
        
        @media (max-width: 768px) {
            .button-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .header {
                font-size: 20px;
                flex-direction: column;
                gap: 15px;
            }
            
            .button-actions {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .button-grid, .sub-button-grid {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .admin-controls {
                padding: 20px;
            }
        }
        
        .edit-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #1a73e8;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .main-button:hover .edit-icon,
        .sub-button:hover .edit-icon {
            opacity: 1;
        }
        
        .editable {
            position: relative;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>प्रतियोगी परीक्षा पोर्टल</h1>
            <button class="admin-login-btn" id="adminLoginBtn">एडमिन लॉगिन</button>
        </div>
        
        <div class="main-content">
            <div class="welcome-text">
                <h2>परीक्षा की तैयारी के लिए संपूर्ण समाधान</h2>
                <p>यहाँ आप विभिन्न प्रतियोगी परीक्षाओं के लिए मॉक टेस्ट, अध्ययन सामग्री और तैयारी संसाधन पा सकते हैं। अपनी तैयारी को बढ़ावा देने के लिए नीचे दिए गए विकल्पों में से चुनें।</p>
            </div>
            
            <div class="button-grid">
                <div class="main-button editable" onclick="openSubPage('upPolice')">
                    <div class="edit-icon" onclick="editButton(event, 'upPolice')">✎</div>
                    <img src="https://cdn-icons-png.flaticon.com/512/206/206875.png" alt="UP Police">
                    <h3>UP Police S1 2025</h3>
                    <p>यूपी पुलिस भर्ती परीक्षा</p>
                </div>
                
                <div class="main-button editable" onclick="openSubPage('sscCgl')">
                    <div class="edit-icon" onclick="editButton(event, 'sscCgl')">✎</div>
                    <img src="https://cdn-icons-png.flaticon.com/512/3449/3449599.png" alt="SSC CGL">
                    <h3>SSC CGL Tier-1 2025</h3>
                    <p>एसएससी सीजीएल परीक्षा</p>
                </div>
                
                <div class="main-button editable" onclick="openSubPage('upssscPet')">
                    <div class="edit-icon" onclick="editButton(event, 'upssscPet')">✎</div>
                    <img src="https://cdn-icons-png.flaticon.com/512/3449/3449599.png" alt="UPSSSC PET">
                    <h3>UPSSSC PET 2025</h3>
                    <p>यूपीएसएसएससी पीईटी परीक्षा</p>
                </div>
                
                <div class="main-button editable" onclick="openSubPage('upPet')">
                    <div class="edit-icon" onclick="editButton(event, 'upPet')">✎</div>
                    <img src="https://cdn-icons-png.flaticon.com/512/3449/3449599.png" alt="UP PET">
                    <h3>UP PET 2025 MINI MOCK</h3>
                    <p>यूपी पीईटी मॉक टेस्ट</p>
                </div>
                
                <div class="main-button editable" onclick="openSubPage('rajasthanPolice')">
                    <div class="edit-icon" onclick="editButton(event, 'rajasthanPolice')">✎</div>
                    <img src="https://cdn-icons-png.flaticon.com/512/206/206875.png" alt="Rajasthan Police">
                    <h3>Rajasthan Police Constable Special Mock Test</h3>
                    <p>राजस्थान पुलिस भर्ती परीक्षा</p>
                </div>
            </div>
        </div>
        
        <div id="upPolice" class="subpage">
            <button class="back-button" onclick="goBack()">← वापस जाएं</button>
            <h2>UP Police S1 2025</h2>
            <div class="sub-button-grid">
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 0)">✎</div>
                    <h4>मॉक टेस्ट</h4>
                    <p>अभ्यास के लिए मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 1)">✎</div>
                    <h4>पिछले प्रश्न पत्र</h4>
                    <p>पिछले वर्षों के प्रश्न पत्र</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 2)">✎</div>
                    <h4>अध्ययन सामग्री</h4>
                    <p>विस्तृत अध्ययन सामग्री</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 3)">✎</div>
                    <h4>सिलेबस</h4>
                    <p>पूर्ण पाठ्यक्रम</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 4)">✎</div>
                    <h4>परीक्षा की तैयारी</h4>
                    <p>तैयारी के टिप्स</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPolice', 5)">✎</div>
                    <h4>विज्ञापन</h4>
                    <p>आधिकारिक विज्ञापन</p>
                </div>
            </div>
        </div>
        
        <div id="sscCgl" class="subpage">
            <button class="back-button" onclick="goBack()">← वापस जाएं</button>
            <h2>SSC CGL Tier-1 2025</h2>
            <div class="sub-button-grid">
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 0)">✎</div>
                    <h4>मॉक टेस्ट</h4>
                    <p>अभ्यास के लिए मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 1)">✎</div>
                    <h4>पिछले प्रश्न पत्र</h4>
                    <p>पिछले वर्षों के प्रश्न पत्र</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 2)">✎</div>
                    <h4>अध्ययन सामग्री</h4>
                    <p>विस्तृत अध्ययन सामग्री</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 3)">✎</div>
                    <h4>सिलेबस</h4>
                    <p>पूर्ण पाठ्यक्रम</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 4)">✎</div>
                    <h4>परीक्षा की तैयारी</h4>
                    <p>तैयारी के टिप्स</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'sscCgl', 5)">✎</div>
                    <h4>विज्ञापन</h4>
                    <p>आधिकारिक विज्ञापन</p>
                </div>
            </div>
        </div>
        
        <div id="upssscPet" class="subpage">
            <button class="back-button" onclick="goBack()">← वापस जाएं</button>
            <h2>UPSSSC PET 2025</h2>
            <div class="sub-button-grid">
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 0)">✎</div>
                    <h4>मॉक टेस्ट</h4>
                    <p>अभ्यास के लिए मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 1)">✎</div>
                    <h4>पिछले प्रश्न पत्र</h4>
                    <p>पिछले वर्षों के प्रश्न पत्र</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 2)">✎</div>
                    <h4>अध्ययन सामग्री</h4>
                    <p>विस्तृत अध्ययन सामग्री</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 3)">✎</div>
                    <h4>सिलेबस</h4>
                    <p>पूर्ण पाठ्यक्रम</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 4)">✎</div>
                    <h4>परीक्षा की तैयारी</h4>
                    <p>तैयारी के टिप्स</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upssscPet', 5)">✎</div>
                    <h4>विज्ञापन</h4>
                    <p>आधिकारिक विज्ञापन</p>
                </div>
            </div>
        </div>
        
        <div id="upPet" class="subpage">
            <button class="back-button" onclick="goBack()">← वापस जाएं</button>
            <h2>UP PET 2025 MINI MOCK</h2>
            <div class="sub-button-grid">
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 0)">✎</div>
                    <h4>मॉक टेस्ट 1</h4>
                    <p>पहला मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 1)">✎</div>
                    <h4>मॉक टेस्ट 2</h4>
                    <p>दूसरा मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 2)">✎</div>
                    <h4>मॉक टेस्ट 3</h4>
                    <p>तीसरा मॉक टे스्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 3)">✎</div>
                    <h4>मॉक टेस्ट 4</h4>
                    <p>चौथा मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 4)">✎</div>
                    <h4>मॉक टेस्ट 5</h4>
                    <p>पाँचवां मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'upPet', 5)">✎</div>
                    <h4>सभी मॉक टेस्ट</h4>
                    <p>सभी मॉक टेस्ट एक साथ</p>
                </div>
            </div>
        </div>
        
        <div id="rajasthanPolice" class="subpage">
            <button class="back-button" onclick="goBack()">← वापस जाएं</button>
            <h2>Rajasthan Police Constable Special Mock Test</h2>
            <div class="sub-button-grid">
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 0)">✎</div>
                    <h4>मॉक टेस्ट</h4>
                    <p>अभ्यास के लिए मॉक टेस्ट</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 1)">✎</div>
                    <h4>पिछले प्रश्न पत्र</h4>
                    <p>पिछले वर्षों के प्रश्न पत्र</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 2)">✎</div>
                    <h4>अध्ययन सामग्री</h4>
                    <p>विस्तृत अध्ययन सामग्री</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 3)">✎</div>
                    <h4>सिलेबस</h4>
                    <p>पूर्ण पाठ्यक्रम</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 4)">✎</div>
                    <h4>शारीरिक परीक्षण</h4>
                    <p>शारीरिक परीक्षण जानकारी</p>
                </div>
                <div class="sub-button editable">
                    <div class="edit-icon" onclick="editSubButton(event, 'rajasthanPolice', 5)">✎</div>
                    <h4>विज्ञापन</h4>
                    <p>आधिकारिक विज्ञापन</p>
                </div>
            </div>
        </div>
        
        <div id="adminPanel" class="admin-panel">
            <h2>प्रशासनिक नियंत्रण कक्ष</h2>
            <div class="admin-controls">
                <div class="form-group">
                    <label for="editTitle">शीर्षक</label>
                    <input type="text" id="editTitle" placeholder="शीर्षक दर्ज करें">
                </div>
                <div class="form-group">
                    <label for="editDescription">विवरण</label>
                    <input type="text" id="editDescription" placeholder="विवरण दर्ज करें">
                </div>
                <div class="form-group">
                    <label for="editContent">विस्तृत विवरण (वैकल्पिक)</label>
                    <textarea id="editContent" placeholder="विस्तृत विवरण दर्ज करें"></textarea>
                </div>
                <div class="button-actions">
                    <button class="admin-btn" id="saveContentBtn">परिवर्तन सहेजें</button>
                    <button class="admin-btn secondary-btn" id="cancelEditBtn">रद्द करें</button>
                    <button class="admin-btn secondary-btn" id="logoutBtn">लॉगआउट</button>
                </div>
                <div id="adminMessage" class="message"></div>
            </div>
        </div>
        
        <div class="footer">
            © 2025 Exam Preparation Portal. सभी अधिकार सुरक्षित
        </div>
    </div>
    
    <div class="login-modal" id="loginModal">
        <div class="login-form">
            <h3>एडमिन लॉगिन</h3>
            <div class="form-group">
                <label for="adminEmail">ईमेल</label>
                <input type="email" id="adminEmail" placeholder="अपना ईमेल दर्ज करें">
            </div>
            <div class="form-group">
                <label for="adminPassword">पासवर्ड</label>
                <input type="password" id="adminPassword" placeholder="अपना पासवर्ड दर्ज करें">
            </div>
            <div class="button-actions">
                <button class="admin-btn" id="modalLoginBtn">लॉगिन</button>
                <button class="admin-btn secondary-btn" id="closeLoginBtn">रद्द करें</button>
            </div>
            <div id="loginMessage" class="message"></div>
        </div>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB0ZKcpIQEnBXHzPsfVNlwdL9Y-iJ4diZY",
            authDomain: "test-246af.firebaseapp.com",
            projectId: "test-246af",
            storageBucket: "test-246af.firebasestorage.app",
            messagingSenderId: "1025448533875",
            appId: "1:1025448533875:web:465de230000c809a1cef06"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        
        // DOM elements
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const loginModal = document.getElementById('loginModal');
        const closeLoginBtn = document.getElementById('closeLoginBtn');
        const modalLoginBtn = document.getElementById('modalLoginBtn');
        const adminPanel = document.getElementById('adminPanel');
        const saveContentBtn = document.getElementById('saveContentBtn');
        const cancelEditBtn = document.getElementById('cancelEditBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const adminMessage = document.getElementById('adminMessage');
        const loginMessage = document.getElementById('loginMessage');
        
        // Current editing context
        let currentEditElement = null;
        let currentEditType = null;
        let currentEditIndex = null;
        
        // Check if user is logged in
        auth.onAuthStateChanged(user => {
            if (user && user.email === 'admin@example.com') {
                // Admin is logged in
                adminLoginBtn.textContent = 'एडमिन लॉगआउट';
                adminPanel.style.display = 'block';
            } else {
                // User is not logged in or not admin
                adminLoginBtn.textContent = 'एडमिन लॉगिन';
                adminPanel.style.display = 'none';
            }
        });
        
        // Open login modal
        adminLoginBtn.addEventListener('click', () => {
            if (adminLoginBtn.textContent === 'एडमिन लॉगआउट') {
                // Logout if already logged in
                auth.signOut().then(() => {
                    showMessage(adminMessage, 'लॉगआउट सफल', 'success');
                    setTimeout(() => {
                        adminMessage.style.display = 'none';
                    }, 3000);
                });
            } else {
                // Show login modal
                loginModal.style.display = 'flex';
            }
        });
        
        // Close login modal
        closeLoginBtn.addEventListener('click', () => {
            loginModal.style.display = 'none';
            resetLoginForm();
        });
        
        // Modal login function
        modalLoginBtn.addEventListener('click', () => {
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            if (email && password) {
                auth.signInWithEmailAndPassword(email, password)
                    .then((userCredential) => {
                        // Signed in
                        loginModal.style.display = 'none';
                        resetLoginForm();
                    })
                    .catch((error) => {
                        showMessage(loginMessage, 'गलत ईमेल या पासवर्ड', 'error');
                    });
            } else {
                showMessage(loginMessage, 'कृपया ईमेल और पासवर्ड दर्ज करें', 'error');
            }
        });
        
        // Logout function
        logoutBtn.addEventListener('click', () => {
            auth.signOut().then(() => {
                showMessage(adminMessage, 'लॉगआउट सफल', 'success');
                setTimeout(() => {
                    adminMessage.style.display = 'none';
                }, 3000);
            });
        });
        
        // Open sub page function
        function openSubPage(pageId) {
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById(pageId).style.display = 'block';
        }
        
        // Go back to main dashboard
        function goBack() {
            document.querySelectorAll('.subpage').forEach(page => {
                page.style.display = 'none';
            });
            document.querySelector('.main-content').style.display = 'block';
        }
        
        // Edit button function
        function editButton(event, buttonId) {
            event.stopPropagation();
            
            // Check if user is admin
            const user = auth.currentUser;
            if (!user || user.email !== 'admin@example.com') {
                showMessage(adminMessage, 'कृपया संपादित करने के लिए लॉगिन करें', 'error');
                return;
            }
            
            const button = document.querySelector(`.main-button[onclick="openSubPage('${buttonId}')"]`);
            const title = button.querySelector('h3').textContent;
            const description = button.querySelector('p').textContent;
            
            // Set editing context
            currentEditElement = button;
            currentEditType = 'main';
            
            // Fill the form
            document.getElementById('editTitle').value = title;
            document.getElementById('editDescription').value = description;
            document.getElementById('editContent').value = '';
            
            // Scroll to admin panel
            adminPanel.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Edit sub button function
        function editSubButton(event, pageId, index) {
            event.stopPropagation();
            
            // Check if user is admin
            const user = auth.currentUser;
            if (!user || user.email !== 'admin@example.com') {
                showMessage(adminMessage, 'कृपया संपादित करने के लिए लॉगिन करें', 'error');
                return;
            }
            
            const subButtons = document.querySelectorAll(`#${pageId} .sub-button`);
            const subButton = subButtons[index];
            const title = subButton.querySelector('h4').textContent;
            const description = subButton.querySelector('p').textContent;
            
            // Set editing context
            currentEditElement = subButton;
            currentEditType = 'sub';
            currentEditIndex = index;
            
            // Fill the form
            document.getElementById('editTitle').value = title;
            document.getElementById('editDescription').value = description;
            document.getElementById('editContent').value = '';
            
            // Scroll to admin panel
            adminPanel.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Save content function
        saveContentBtn.addEventListener('click', () => {
            if (!currentEditElement) {
                showMessage(adminMessage, 'संपादन करने के लिए कोई तत्व नहीं चुना गया', 'error');
                return;
            }
            
            const title = document.getElementById('editTitle').value;
            const description = document.getElementById('editDescription').value;
            
            if (!title || !description) {
                showMessage(adminMessage, 'कृपया शीर्षक और विवरण दर्ज करें', 'error');
                return;
            }
            
            if (currentEditType === 'main') {
                currentEditElement.querySelector('h3').textContent = title;
                currentEditElement.querySelector('p').textContent = description;
            } else if (currentEditType === 'sub') {
                currentEditElement.querySelector('h4').textContent = title;
                currentEditElement.querySelector('p').textContent = description;
            }
            
            showMessage(adminMessage, 'परिवर्तन सफलतापूर्वक सहेजे गए', 'success');
            
            // Clear editing context
            setTimeout(() => {
                resetEditForm();
                adminMessage.style.display = 'none';
            }, 3000);
        });
        
        // Cancel edit function
        cancelEditBtn.addEventListener('click', resetEditForm);
        
        // Reset edit form
        function resetEditForm() {
            document.getElementById('editTitle').value = '';
            document.getElementById('editDescription').value = '';
            document.getElementById('editContent').value = '';
            currentEditElement = null;
            currentEditType = null;
            currentEditIndex = null;
        }
        
        // Reset login form
        function resetLoginForm() {
            document.getElementById('adminEmail').value = '';
            document.getElementById('adminPassword').value = '';
            loginMessage.style.display = 'none';
        }
        
        // Show message
        function showMessage(element, message, type) {
            element.textContent = message;
            element.className = 'message ' + type;
            element.style.display = 'block';
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            if (event.target === loginModal) {
                loginModal.style.display = 'none';
                resetLoginForm();
            }
        });
    </script>
</body>
</html>
